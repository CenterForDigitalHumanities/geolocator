<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html lang="en">

<head>
    <title>Geolocating Web Annotation Generator</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/chota@latest">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
     integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
     crossorigin=""/>
    <link rel="stylesheet" href="stylesheets/style.css" />
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
     integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
     crossorigin=""></script>
    <!--<script src="https://cdn.osmbuildings.org/classic/0.2.2b/OSMBuildings-Leaflet.js"></script>-->
    <script src="js/annotate.js"></script>   
    <script src="components/layout.js"></script>
</head>

<body is="geo-page">
    <div class="container">
        <user-resource></user-resource>
        <point-picker class="not-visible"></point-picker>
        <geolocator-preview do-save="true" resource-type="" class="is-hidden"></geolocator-preview>   
    </div>
</body>
<script>    
    // This helps mobile views
    window.onbeforeunload = function () {
        window.scrollTo(0, 0)
    }

    document.addEventListener("coordinatesConfirmed", (e) => {
        localStorage.setItem("geoJSON", e.detail)
        coordinatesCard.classList.add("is-hidden")
        document.querySelector("geolocator-preview").setAttribute("resource-type", "Annotation")
    })

    document.addEventListener("userResourceConfirmed", (e) => {
        localStorage.setItem("providedURI", e.detail)
        document.querySelector("user-resource").classList.add("is-hidden")
        document.querySelector("point-picker").classList.remove("not-visible")
    })
</script>
</body>
</html>
